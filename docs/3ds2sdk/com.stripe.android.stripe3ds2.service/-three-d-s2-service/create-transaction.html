<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>createTransaction</title>
<link href="../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../";</script>
    <script>document.documentElement.classList.replace("no-js", "js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
      if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      } else {
        const savedDarkMode = JSON.parse(storage)
        if (savedDarkMode === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/safe-local-storage_blocking.js"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../ui-kit/ui-kit.min.js" defer></script></head>
<body>
<div class="root">
    <header class="navigation theme-dark" id="navigation-wrapper" role="banner">
<a class="library-name--link" href="../../../index.html" tabindex="1">
                    stripe-android
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <ul class="filter-section filter-section_loading" id="filter-section" aria-label="Target filter">
                <button class="platform-tag platform-selector jvm-like" data-active="" aria-pressed="true" data-filter=":3ds2sdk/main">androidJvm</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox" aria-label="Target filter">
                    <div class="dropdown--header"><span>Target filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close target filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":3ds2sdk/main" data-filter=":3ds2sdk/main">
                                <span class="checkbox--icon"></span>
                                androidJvm
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </ul>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </header>
    <div id="container">
        <nav id="leftColumn" class="sidebar" data-item-type="SECTION" data-item-config="{&quot;defaultSize&quot;: 280, &quot;minSize&quot;: 200, &quot;maxSize&quot;: 400}">
            <a class="toc--skip-link" href="#main">Skip to content</a>
            <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox" aria-label="Table of contents">
                    <div class="dropdown--header">
                            <span>
                                    stripe-android
                            </span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                    <div class="sidebar--inner" id="sideMenu"></div>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </nav>
        <div id="resizer" class="resizer" data-item-type="BAR"></div>
        <div id="main" data-item-type="SECTION" role="main">
<div class="main-content" data-page-type="member" id="content" pageids="3ds2sdk::com.stripe.android.stripe3ds2.service/ThreeDS2Service/createTransaction/#kotlin.String#kotlin.String?/PointingToDeclaration//-374432591">
  <div class="breadcrumbs"><a href="../../index.html">3ds2sdk</a><span class="delimiter">/</span><a href="../index.html">com.stripe.android.stripe3ds2.service</a><span class="delimiter">/</span><a href="index.html">ThreeDS2Service</a><span class="delimiter">/</span><span class="current">createTransaction</span></div>
  <div class="cover ">
    <h1 class="cover"><span>create</span><wbr><span><span>Transaction</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":3ds2sdk/main"><div class="symbol monospace"><span class="token keyword">abstract </span><span class="token keyword">fun </span><a href="create-transaction.html"><span class="token function">createTransaction</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">directoryServerID<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">messageVersion<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../com.stripe.android.stripe3ds2.transaction/-transaction/index.html">Transaction</a></div><p class="paragraph">The createTransaction method creates an instance of Transaction through which the app gets the data that is required to perform the transaction. The app calls the createTransaction method for each transaction that is to be processed. When the createTransaction method is called:</p><ul><li><p class="paragraph">The 3DS SDK uses the information adhering to the protocol version passed in the optional messageVersion parameter, if it supports the protocol version. If it does not support the protocol version, it generates an InvalidInputException. If the messageVersion parameter is empty or null, the highest protocol version that the 3DS SDK supports is used. If Challenge Flow is triggered for the transaction, the 3DS SDK uses the same protocol version during the challenge process.</p></li><li><p class="paragraph">The 3DS SDK uses a secure random function to generate a Transaction ID in UUID format. This ID is used to uniquely identify each transaction.</p></li><li><p class="paragraph">The 3DS SDK generates a fresh ephemeral key pair. This key pair is used to establish a secure session between the 3DS SDK and the ACS subsequently during the transaction.</p></li></ul><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">This method returns an instance of the Transaction interface.</p></span><h4 class="tableheader">Parameters</h4><div class="table"><div class="table-row table-row_content" data-filterable-current=":3ds2sdk/main" data-filterable-set=":3ds2sdk/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>directory</span><wbr><span>Server</span><wbr><span><span>ID</span></span></u></div></span></div><div><div class="title"><p class="paragraph">Registered Application Provider Identifier (RID) that is unique to the Payment System.<br><br> RIDs are defined by the ISO 7816-5 standard.<br><br> RIDs are issued by the ISO/IEC 7816- 5 registration authority.<br><br> Contains a 5-byte value.<br><br> The 3DS SDK encrypts the device information by using the DS public key. This key is identified based on the directoryServerID that is passed to the createTransaction method.<br><br> Note: The 3DS SDK shall have the DS Public Keys of all the 3-D Secure participating Directory Servers.</p></div></div></div></div><div class="table-row table-row_content" data-filterable-current=":3ds2sdk/main" data-filterable-set=":3ds2sdk/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>message</span><wbr><span><span>Version</span></span></u></div></span></div><div><div class="title"><p class="paragraph">(optional) Protocol version according to which the transaction shall be created.</p></div></div></div></div></div><h4 class="tableheader">Throws</h4><div class="table"><div class="table-row table-row_content" data-filterable-current=":3ds2sdk/main" data-filterable-set=":3ds2sdk/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../../com.stripe.android.stripe3ds2.exceptions/-invalid-input-exception/index.html"><span>Invalid</span><wbr><span>Input</span><wbr><span><span>Exception</span></span></a></div></span></div><div><div class="title"><p class="paragraph">This exception shall be thrown if an input parameter is invalid. This also includes an invalid Directory Server ID or a protocol version that the 3DS SDK does not support.</p></div></div></div></div><div class="table-row table-row_content" data-filterable-current=":3ds2sdk/main" data-filterable-set=":3ds2sdk/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../../com.stripe.android.stripe3ds2.exceptions/-s-d-k-runtime-exception/index.html"><span>SDKRuntime</span><wbr><span><span>Exception</span></span></a></div></span></div><div><div class="title"><p class="paragraph">This exception shall be thrown if an internal error is encountered by the 3DS SDK.</p></div></div></div></div></div></div></div>
</div>
    <div class="footer">
        <div class="footer--container">
            <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
            <div class="footer--content">
                <div>
                    <span>Generated by </span>
                    <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                        Dokka
                    </a>
                    <div>Â© 2025 Copyright</div>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>
</div>
</body>
</html>