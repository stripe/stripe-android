apply from: configs.androidLibrary

apply plugin: 'com.google.devtools.ksp'
apply plugin: 'checkstyle'
apply plugin: 'org.jetbrains.kotlin.plugin.parcelize'
apply plugin: 'kotlinx-serialization'
apply plugin: 'org.jetbrains.kotlin.plugin.compose'
apply plugin: 'dev.drewhamilton.poko'

android {
    testOptions {
        unitTests {
            includeAndroidResources = true
        }
    }

    buildFeatures {
        compose true
        buildConfig false
    }
}

dependencies {
    implementation project(":stripe-core")
    implementation project(":payments-core")
    implementation project(":payments-ui-core")
    implementation project(":stripe-ui-core")
    api libs.kotlin.coroutines
    implementation libs.kotlin.coroutinesAndroid
    implementation libs.kotlin.serialization

    // AndroidX
    api libs.androidx.activity
    implementation libs.androidx.annotation
    implementation libs.androidx.browser
    api libs.androidx.fragment
    implementation libs.androidx.lifecycle
    implementation libs.androidx.lifecycleCompose
    implementation libs.androidx.savedState

    implementation libs.androidx.activity
    implementation libs.androidx.appCompat
    implementation libs.androidx.constraintLayout
    implementation libs.androidx.coreKtx
    implementation libs.androidx.liveDataKtx
    implementation libs.androidx.navigationFragment
    implementation libs.androidx.navigationUi
    implementation libs.androidx.preference
    implementation libs.androidx.viewModel
    implementation libs.compose.activity
    implementation libs.compose.foundation
    implementation libs.compose.liveData
    implementation libs.compose.material
    implementation libs.compose.materialIcons
    implementation libs.compose.materialIconsExtended
    implementation libs.compose.ui
    implementation libs.compose.uiTooling
    implementation libs.compose.viewModels
    implementation libs.kotlin.serialization
    implementation libs.material


    // DI
    implementation libs.dagger
    ksp libs.daggerCompiler

    testImplementation testLibs.androidx.archCore
    testImplementation testLibs.androidx.core
    testImplementation testLibs.androidx.junitKtx
    testImplementation testLibs.junit
    testImplementation testLibs.truth
    testImplementation testLibs.kotlin.annotations
    testImplementation testLibs.kotlin.coroutines
    testImplementation testLibs.kotlin.junit

    testImplementation testLibs.mockito.core
    testImplementation testLibs.mockito.inline
    testImplementation testLibs.mockito.kotlin

    androidTestUtil testLibs.testOrchestrator
}

ext {
    artifactId = "payment-method-messaging"
    artifactName = "payment-method-messaging"
    artifactDescrption = "The Payment Method Messaging module of Stripe Android SDK"
}

apply from: "${rootDir}/deploy/deploy.gradle"
